@using HelpDesk.Models.Dto.Tickets.Tickets
@using HelpDesk.Models.Enums.Extensions
@using HelpDesk.Models.PLA.Devices

<MudText Class="mb-0">Оборудование учавствующие в заявке</MudText>
<MudForm>
    <MudStack Class="mt-4" Row="true" Spacing="0">
        <MudButton Variant="Variant.Outlined" StartIcon="@Icons.Material.Filled.Create"
                   Size="Size.Small"
                   Color="Color.Primary">
            Добавить оборудование
        </MudButton>
    </MudStack>
    <MudList Class="mt-2" T="DeviceView">
        @foreach (var device in CreateDto.Devices)
        {
            <MudListItem Icon="@Icons.Material.Filled.Devices">
                <code>@device.Type.GetDisplayName() №@device.InvNumber</code>
                <MudIconButton OnClick="@(() => RemoveDevice(device.InvNumber))" Size="Size.Small" Variant="Variant.Outlined" Icon="@Icons.Material.Filled.Delete" Color="Color.Error"/>
            </MudListItem>
        }
    </MudList>
</MudForm>


@code {
    
    [Parameter] public TicketCreateDto CreateDto { get; set; } = default!;
    
    private async Task RemoveDevice(string deviceInvNumber)
    {
        throw new NotImplementedException();
    }
}